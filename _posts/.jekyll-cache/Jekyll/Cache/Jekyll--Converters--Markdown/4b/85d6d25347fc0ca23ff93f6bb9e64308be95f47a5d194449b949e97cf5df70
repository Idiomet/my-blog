I"4<h2 id="how-to-setup-a-proxy-server-on-an-amazon-ec2-instance">How to Setup a Proxy Server on an Amazon EC2 instance</h2>

<p>You may ask, what is a proxy server? Well, a proxy server is a server that acts as a middleman for internet requests. In other words, a client host will send a request to a proxy server, and then the proxy server will get the response back from the server host, and then pass the response back along to the client host. Some of the uses of a proxy server include content-filtering, bypassing content restrictions or censorship, and privacy or anonymity. To provide more context on how proxies are used for privacy, when you connect to the web using a proxy server, your home IP address is not shown publicly, but instead your proxy server IP address is shown.</p>

<h2 id="create-an-ubuntu-amazon-ec2-instance">Create an Ubuntu Amazon EC2 Instance</h2>
<ol>
  <li>Launch an Amazon EC2 instance.</li>
  <li>Select the â€œUbuntu Server 18.04 LTS (HVM), SSD Volume Typeâ€ AMI.</li>
  <li>Select the â€œt2.microâ€ instance type.</li>
  <li>Jump to the â€œConfigure Security Groupâ€ section.</li>
  <li>Under the inbound rules, for the SSH type rule, select â€œMy IPâ€ as the Source.</li>
  <li>Click â€œAdd Ruleâ€ and select â€œHTTPâ€ as the Type.</li>
  <li>Select â€œMy IPâ€ as the source, because we only want to allow our local IP to send HTTP traffic to this proxy server.</li>
  <li>Click â€œAdd Ruleâ€ and select â€œHTTPSâ€ as the Type.</li>
  <li>Select â€œMy IPâ€ as the source, because we only want to allow our local IP to send HTTPS traffic to this proxy server.</li>
  <li>Create a new outbound rule, and set the Type to â€œAll trafficâ€ and set the Destination type to â€œAnywhereâ€.</li>
  <li>Click â€œReview and Launchâ€.</li>
  <li>Connect to your EC2 instance using SSH and your key pair.</li>
</ol>

<h2 id="squid">Squid</h2>
<p>Squid is proxy software which allows caching of frequently-requested web pages for faster response times and reducing bandwidth at the same time. We will be installing this software on our Ubuntu server to create the proxy server.</p>

<h2 id="installing-squid">Installing Squid</h2>
<ol>
  <li>Letâ€™s first get the latest list of available packages and upgrade to any new packages.
<code class="language-plaintext highlighter-rouge">sudo su apt-get update &amp;&amp; apt-get upgrade</code></li>
  <li>Install the Squid package.
<code class="language-plaintext highlighter-rouge">apt-get install squid -y</code></li>
  <li>Edit the Squid configuration file.
<code class="language-plaintext highlighter-rouge">vi /etc/squid/squid.conf</code></li>
  <li>Look for â€œhttp_access deny allâ€ in the config file. Change this to â€œhttp_access allow allâ€.</li>
  <li>Look for â€œhttp_port 3128â€ in the config file. Change this to â€œhttp_port 80â€, because we are only allowing traffic on the HTTP port 80.</li>
  <li>Restart the Squid service.
<code class="language-plaintext highlighter-rouge">systemctl restart squid</code></li>
</ol>

<h2 id="connecting-to-proxy-server">Connecting to Proxy Server</h2>
<ol>
  <li>If using Windows, go to Settings.</li>
  <li>Type â€œProxyâ€ and click â€œChange proxy settingsâ€.</li>
  <li>Click on â€œUse a proxy serverâ€.</li>
  <li>For â€œAddressâ€ input your EC2 instanceâ€™s Public IPv4 address.</li>
  <li>For â€œPortâ€ input â€œ80â€.</li>
  <li>Click â€œSaveâ€.</li>
  <li>Now go to https://www.whatismyip.com/. Youâ€™ll notice that you now have a different IP address than your home IP address, thatâ€™s because we are now browsing the Web through the proxy server that we just created!</li>
</ol>

:ET